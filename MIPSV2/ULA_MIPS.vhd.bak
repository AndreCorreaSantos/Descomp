library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;    -- Biblioteca IEEE para funções aritméticas

entity ULA_MIPS is
    generic ( larguraDados : natural := 32 );
    port (
      entradaA, entradaB:  in STD_LOGIC_VECTOR((larguraDados-1) downto 0);
      seletor:  in STD_LOGIC_VECTOR (2 downto 0);
		zero: out STD_LOGIC;
      saida:    out STD_LOGIC_VECTOR((larguraDados-1) downto 0)
    );
end entity;

architecture comportamento of ULA_MIPS is
	signal selecao: std_logic_vector(1 downto 0);
	signal inverte_A, inverte_B: std_logic;
	
begin



ULA_32 :  entity work.ULA_32_bits
        port map( entradaA => entradaA,
                 entradaB =>  entradaB,
					  seletor => selecao,
					  inverte_A => inverte_A,
					  inverte_B => inverte_B,
                 saida => saida);


selecao <= "00" when seletor = "000" else
			  "00" when seletor = "001" else
			  "01" when seletor = "010" else
			  "10" when seletor = "011" else
			  "10" when seletor = "100" else
			  "11" when seletor = "101" else
			  "00";
			  
inverte_A <= '1' when seletor = "001" else '0';

inverte_B <= '1' when seletor = "001" else
				 '1' when seletor = "100" else
				 '1' when seletor = "101" else
				 '0';


end architecture;